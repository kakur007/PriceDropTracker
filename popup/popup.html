<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Price Drop Tracker</title>
  <link rel="icon" type="image/png" href="../assets/icons/apple-touch-icon-60x60.png">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="title-container">
        <svg class="logo" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="10" fill="#1eadbd"/>
          <path d="M12 6C8.69 6 6 8.69 6 12C6 15.31 8.69 18 12 18C15.31 18 18 15.31 18 12C18 8.69 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12C8 9.79 9.79 8 12 8C14.21 8 16 9.79 16 12C16 14.21 14.21 16 12 16Z" fill="white"/>
          <circle cx="12" cy="12" r="3" fill="white"/>
        </svg>
        <h1 class="title">Price Drop Tracker</h1>
      </div>
      <div class="header-actions">
        <button id="trackThisPageBtn" class="icon-btn primary" title="Track product on this page">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 3V13M3 8H13" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <button id="refreshBtn" class="icon-btn" title="Refresh prices">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.65 2.35C12.2 0.9 10.21 0 8 0C3.58 0 0.01 3.58 0.01 8C0.01 12.42 3.58 16 8 16C11.73 16 14.84 13.45 15.73 10H13.65C12.83 12.33 10.61 14 8 14C4.69 14 2 11.31 2 8C2 4.69 4.69 2 8 2C9.66 2 11.14 2.69 12.22 3.78L9 7H16V0L13.65 2.35Z" fill="currentColor"/>
          </svg>
        </button>
        <button id="settingsBtn" class="icon-btn" title="Settings">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M13.5 8C13.5 8.17 13.49 8.34 13.47 8.51L15.1 9.77C15.24 9.88 15.28 10.07 15.2 10.23L13.64 13.03C13.56 13.19 13.38 13.25 13.21 13.19L11.27 12.38C10.89 12.68 10.47 12.93 10.01 13.12L9.73 15.16C9.71 15.34 9.55 15.48 9.36 15.48H6.24C6.05 15.48 5.89 15.34 5.87 15.16L5.59 13.12C5.13 12.93 4.71 12.68 4.33 12.38L2.39 13.19C2.22 13.25 2.04 13.19 1.96 13.03L0.4 10.23C0.32 10.07 0.36 9.88 0.5 9.77L2.13 8.51C2.11 8.34 2.1 8.17 2.1 8C2.1 7.83 2.11 7.66 2.13 7.49L0.5 6.23C0.36 6.12 0.32 5.93 0.4 5.77L1.96 2.97C2.04 2.81 2.22 2.75 2.39 2.81L4.33 3.62C4.71 3.32 5.13 3.07 5.59 2.88L5.87 0.84C5.89 0.66 6.05 0.52 6.24 0.52H9.36C9.55 0.52 9.71 0.66 9.73 0.84L10.01 2.88C10.47 3.07 10.89 3.32 11.27 3.62L13.21 2.81C13.38 2.75 13.56 2.81 13.64 2.97L15.2 5.77C15.28 5.93 15.24 6.12 15.1 6.23L13.47 7.49C13.49 7.66 13.5 7.83 13.5 8ZM5 8C5 9.66 6.34 11 8 11C9.66 11 11 9.66 11 8C11 6.34 9.66 5 8 5C6.34 5 5 6.34 5 8Z" fill="currentColor"/>
          </svg>
        </button>
      </div>
    </header>

    <!-- Stats Bar -->
    <div class="stats-bar">
      <div class="stat">
        <span class="stat-value" id="totalProducts">0</span>
        <span class="stat-label">Tracking</span>
      </div>
      <div class="stat">
        <span class="stat-value" id="priceDrops">0</span>
        <span class="stat-label">Drops</span>
      </div>
    </div>

    <!-- Filter Tabs -->
    <div class="tabs">
      <button class="tab active" data-filter="all">All</button>
      <button class="tab" data-filter="drops">Price Drops</button>
      <button class="tab" data-filter="expiring">Expiring Soon</button>
    </div>

    <!-- Products List -->
    <div id="productsList" class="products-list">
      <!-- Products will be inserted here -->
    </div>

    <!-- Empty State -->
    <div id="emptyState" class="empty-state" style="display: none;">
      <div class="empty-icon">ðŸ“¦</div>
      <h2>No products tracked yet</h2>
      <p>Visit any product page on Amazon, eBay, Walmart, Target, or Best Buy to start tracking prices automatically.</p>
    </div>

    <!-- Loading State -->
    <div id="loadingState" class="loading-state">
      <div class="spinner"></div>
      <p>Loading products...</p>
    </div>
  </div>

  <script type="module" src="popup.js"></script>
</body>
</html>
